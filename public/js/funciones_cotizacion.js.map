{"version":3,"sources":["funciones_cotizacion.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"funciones_cotizacion.js","sourcesContent":["function iniciacion(){\r\n    $( \".column\" ).sortable({\r\n        connectWith: \".column\",\r\n        handle: \".portlet-header\",\r\n        cancel: \".portlet-toggle\",\r\n        placeholder: \"portlet-placeholder ui-corner-all\"\r\n    });\r\n\r\n    $( \".portlet\" )\r\n        .addClass( \"ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\" )\r\n        .find( \".portlet-header\" )\r\n        .addClass( \"ui-widget-header ui-corner-all\" )\r\n        .prepend( \"<span class='ui-icon ui-icon-plusthick portlet-toggle'></span>\");\r\n\r\n    $( \".portlet-toggle\" ).on( \"click\", function() {\r\n        var icon = $( this );\r\n        icon.toggleClass( \"ui-icon-minusthick ui-icon-plusthick\" );\r\n        icon.closest( \".portlet\" ).find( \".portlet-content\" ).toggle();\r\n\r\n    });\r\n}\r\n $( function() {\r\n     iniciacion();\r\n} );\r\n$('.fixed-action-btn').openFAB();\r\n$('.fixed-action-btn').closeFAB();\r\nvar nro_iti=0;\r\n$('#agregar_dia').click(function(){\r\n\r\n\r\n    var total=0;\r\n    $(\"input[name=chb_itinerario_n]\").each(function (index) {\r\n        if($(this).is(':checked')){\r\n            var itine = $(this).val().split('[');\r\n            // alert(itine[0]+'_'+itine[1]);\r\n            total=$('#nroItis').val();\r\n            nro_iti=parseInt(total)+1;\r\n            $('#nroItis').val(nro_iti);\r\n            $('.lista_itinerario').append(''+\r\n                '<div id=\"pl_'+nro_iti+'\" class=\"portlet\">'+\r\n                '<div id=\"pl_h_'+nro_iti+'\" class=\"portlet-header\"  onmousedown=\"Pasar_datos(\\''+nro_iti+'\\',\\''+nro_iti+'\\',\\''+nro_iti+'\\')\"><span class=\"cursor-move\">DAY <span class=\"pos_iti\" name=\"posdia[]\" id=\"pos_dia_'+nro_iti+'\">'+nro_iti+'</span>: <i id=\"titulo_'+nro_iti+'\">'+itine[0]+'</i></span></div>'+\r\n                '<div class=\"portlet-content\" onmouseenter=\"estado_edicion(1)\" onmouseleave=\"estado_edicion(0)\">'+\r\n                '<div class=\"row\">'+\r\n                '<div class=\"col s12\">'+\r\n                '<span class=\"grey-text text-darken-3\">'+\r\n                '<input name=\"titulo_itinerario[]\" id=\"titulo_itinerario_'+nro_iti+'\" type=\"text\" value=\"'+itine[0]+'\" placeholder=\"Ingrese el titulo\">'+\r\n                '</span>'+\r\n                '</div>'+\r\n                '</div>'+\r\n                '<textarea  name=\"desc_itinerario[]\" id=\"desc_itinerario_'+nro_iti+'\">'+itine[1]+\r\n                '</textarea>'+\r\n                '</div>'+\r\n                '</div>'+\r\n                '<script>'+\r\n                '$(function(){'+\r\n                '$(\\'#desc_itinerario_'+nro_iti+'\\')'+\r\n                '.on(\\'froalaEditor.initialized\\', function (e, editor) {'+\r\n                '$(\\'#desc_itinerario_'+nro_iti+'\\').parents(\\'form\\').on(\\'submit\\', function () {'+\r\n                '  })'+\r\n                '})'+\r\n                '.froalaEditor({iframe:false,enter: $.FroalaEditor.ENTER_P, placeholderText: null});'+\r\n                '$(\\'#titulo_itinerario_'+nro_iti+'\\').keypress(function() {'+\r\n                '$(\\'#titulo_'+nro_iti+'\\').html($(\\'#titulo_itinerario_'+nro_iti+'\\').val());'+\r\n                '});'+\r\n                '$(\\'#titulo_itinerario_'+nro_iti+'\\').keydown(function() {'+\r\n                '$(\\'#titulo_'+nro_iti+'\\').html($(\\'#titulo_itinerario_'+nro_iti+'\\').val());'+\r\n                '});'+\r\n                '$(\\'#titulo_itinerario_'+nro_iti+'\\').keyup(function() {'+\r\n                '$(\\'#titulo_'+nro_iti+'\\').html($(\\'#titulo_itinerario_'+nro_iti+'\\').val());'+\r\n                '});'+\r\n                '});'+\r\n                '</script>');\r\n            $('#pl_'+nro_iti)\r\n                .addClass( \"ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\" )\r\n                .find( \".portlet-header\" )\r\n                .addClass( \"ui-widget-header ui-corner-all\" )\r\n                .prepend( \"<span class='ui-icon ui-icon-plusthick portlet-toggle'></span>\");\r\n\r\n            $('#pl_h_'+nro_iti).on( \"click\", function() {\r\n                var icon = $( this );\r\n                icon.toggleClass( \"ui-icon-minusthick ui-icon-plusthick\" );\r\n                icon.closest( \".portlet\" ).find( \".portlet-content\" ).toggle();\r\n\r\n            });\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n    });\r\n\r\nvar dia=0;\r\nvar titulo=0;\r\nvar id=0;\r\n$('#borrar_itinerario').click(function(){\r\n        if(true) {\r\n            swal({   title: \"Esta seguro?\",\r\n                    text: \"Eliminar el registro 'DIA \"+dia+\" : \"+titulo,\r\n                    type: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#DD6B55\",\r\n                    confirmButtonText: \"Si, Borrar ahora!\",\r\n                    cancelButtonText: \"No, Cancelar por favor!\",\r\n                    closeOnConfirm: false,\r\n                    closeOnCancel: false },\r\n                function(isConfirm){\r\n                    if (isConfirm) {\r\n                        $('#Itine_'+id).remove();\r\n                        swal(\"Borrado!\", \"Tu registro fue borrado :(\", \"success\");   }\r\n                    else {\r\n                        swal(\"Cancelado\", \"Tu registro esta seguro :)\", \"error\");   }\r\n                });\r\n        }\r\n    }\r\n);\r\n\r\nvar valor_head='';\r\nvar valor_body='';\r\nvar valor_html='';\r\nfunction Pasar_datos(pid,pdia,ptitulo) {\r\n    id = pid;\r\n    dia = pdia;\r\n    titulo = ptitulo;\r\n    var $frame = $('#desc_itinerario_' + id);\r\n    setTimeout( function() {\r\n        var doc = $frame;\r\n\r\n        valor_html=doc.html();\r\n\r\n    }, 1 );\r\n    // console.log('click html: '+valor_html);\r\n}\r\nvar esta_en_edicion=0;\r\nfunction poner_valor(){\r\n     if(esta_en_edicion==0) {\r\n        var $frame = $('#desc_itinerario_' + id);\r\n        setTimeout(function () {\r\n            var doc = $frame;\r\n             }, 1);\r\n\r\n         // console.log('soltar body: '+valor_html);\r\n         setTimeout(function () {\r\n             ordenar_lista_dias();\r\n\r\n         }, 1);\r\n     }\r\n}\r\n\r\n function estado_edicion(valor){\r\n     esta_en_edicion=valor;\r\n     // if(esta_en_edicion==1)\r\n     //    console.log('Si esta en edicion');\r\n     // else if(esta_en_edicion==0)\r\n     //     console.log('No esta en edicion');\r\n }\r\n\r\n function ordenar_lista_dias(){\r\n     var nroiti=$('#nroItis').val();\r\n     // console.log('nro dias: '+nroiti);\r\n     var pos=1;\r\n     $(\".pos_iti\").each(function(){\r\n         $(this).html(''+pos);\r\n         pos=pos+1;\r\n         // console.log('se asigno: '+pos);\r\n         // console.log('se asigno: '+pos);\r\n     });\r\n }\r\nfunction Mostrar_busqueda_text(){\r\n    $('#buscar_iti').removeClass('hide');\r\n    $('#jalar_iti').addClass('hide');\r\n}\r\nfunction Mostrar_busqueda_jalar(){\r\n    $('#buscar_iti').addClass('hide');\r\n    $('#jalar_iti').removeClass('hide');\r\n}\r\n"],"sourceRoot":"/source/"}